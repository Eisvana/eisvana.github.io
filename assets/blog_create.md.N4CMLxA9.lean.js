import{d as I,o as g,c as v,m as d,t as Z,n as A,J as f,w as _,_ as q,h,k as c,y as K,E as X,a5 as E,a6 as ee,af as te,p as k,F as ae,G as oe,b as se,e as ie,a2 as ne,q as le,s as re,a4 as de}from"./chunks/framework.CTjf6bD_.js";import{E as ue,c as ce}from"./chunks/compressImage.BXs08Cqn.js";import{S as me,a as pe,c as he,e as B}from"./chunks/createFormData.BPDqX-xN.js";import{_ as F}from"./chunks/PicoStyle.vue_vue_type_script_setup_true_lang.DKhuZFY3.js";import{u as ge}from"./chunks/useTheme.BLCKu_Mm.js";import"./chunks/commonjsHelpers.C4iS2aBk.js";const fe={class:"gallery-item"},be=["href"],ve=["alt","src"],ye=["title"],we={class:"button-grid"},ke=I({__name:"GalleryElement",props:{file:{},index:{},url:{},isUsed:{type:Boolean}},emits:["remove","insert"],setup(m){return(o,s)=>(g(),v("div",fe,[d("a",{href:o.url,rel:"noopener noreferrer",target:"_blank"},[d("img",{alt:o.file.name,src:o.url},null,8,ve)],8,be),d("p",{class:A([{"is-unused":!o.isUsed},"file-name"]),title:o.isUsed?void 0:"Unused"},Z(o.file.name),11,ye),f(F,null,{default:_(()=>[d("div",we,[d("button",{class:"primary",title:"Insert",type:"button",onClick:s[0]||(s[0]=u=>o.$emit("insert"))}," ➕ "),d("button",{class:"secondary",title:"Remove",type:"button",onClick:s[1]||(s[1]=u=>o.$emit("remove"))}," ✖ ")])]),_:1})]))}}),_e=q(ke,[["__scopeId","data-v-d8e391bd"]]),P=m=>(le("data-v-feb2ab7c"),m=m(),re(),m),Ie=P(()=>d("label",{for:"category"},"Category or username under which the post will be listed:",-1)),xe={key:0},Ne=P(()=>d("p",null,"Uploaded images:",-1)),Ue={class:"gallery"},Ce=I({__name:"BlogBuilder",setup(m){const o=h(`# Hello World

This is content`),s=h([]),u=h(""),y=h(!1),S=c(()=>!o.value||!u.value),$=c(()=>s.value.map(t=>t.name)),x=c(()=>s.value.filter(t=>o.value.includes(t.name))),T=c(()=>z(x.value)),p=h([]),O=atob("aHR0cHM6Ly9kaXNjb3JkLmNvbS9hcGkvd2ViaG9va3MvMTIwNjIxNjYxODkzNDQwNzE5OS9NNTFQal9mWHhUQl9NQW4zMTdVbE82UGlsQU0tNTVUZUNzVDYwWlA2SWxKZHhNTHRjd2IzMnRwWVNSc2Z6dHctSHk4eQo="),N=h(null),{theme:j}=ge();K(s,(t,e)=>{const l=t.filter(n=>!e.includes(n)),r=e.filter(n=>!t.includes(n)).map(n=>e.indexOf(n));r.forEach(n=>URL.revokeObjectURL(p.value[n]));const a=l.map(n=>URL.createObjectURL(n));p.value=p.value.filter((n,w)=>!r.includes(w)),p.value.push(...a)});function H(){const t=document.createElement("a"),e="blog.md",l=new File([o.value],e,{type:"text/plain"}),i=URL.createObjectURL(l);t.href=i,t.download=e,t.click(),URL.revokeObjectURL(i)}const R=c(()=>T.value.map(pe)),D=c(()=>he(o.value,u.value)),M=c(()=>[D.value,...R.value]);function z(t){return t.reduce((l,i,r)=>{const a=Math.floor(r/10);return(l[a]??(l[a]=[])).push(i),l},[])}const U=(t,e)=>new File([t],e,{type:t.type});async function L(t){const e={};$.value.forEach(a=>{e[a]??(e[a]=0),e[a]++});function l(a,n=0){const w=a.name.split("."),Y=w.at(-1),J=`${w.slice(0,-1).join("_")}_${n}.${Y}`,b=n?J:a.name,C=e[b]??(e[b]=0);return e[b]++,C?l(a,C):U(a,b)}const i=t.map(a=>U(a,B(a.name))).map(a=>l(a));y.value=!0;const r=[];for(const a of i){const n=await ce(a);r.push(n)}y.value=!1,s.value=[...s.value,...r]}const V=()=>{var t;o.value="",s.value=[],(t=N.value)==null||t.reset()};function W(t){s.value=s.value.filter(e=>t!==e)}const G=c(()=>y.value?"Compressing files...":void 0),Q=t=>o.value=`${o.value}
![image](/images/blogs/${B(u.value)}/${t.name})
`;return(t,e)=>{const l=X("ClientOnly");return g(),v("form",{ref_key:"form",ref:N,onSubmit:e[2]||(e[2]=ne(()=>{},["prevent"]))},[f(F,null,{default:_(()=>[Ie,E(d("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>u.value=i),id:"category",type:"text"},null,512),[[ee,u.value]])]),_:1}),E(d("div",null,[f(l,null,{default:_(()=>[f(k(ue),{modelValue:o.value,"onUpdate:modelValue":e[1]||(e[1]=i=>o.value=i),theme:k(j),class:"editor","editor-id":"blogContent",language:"en-US","preview-theme":"github",onOnSave:H,onOnUploadImg:L},null,8,["modelValue","theme"])]),_:1}),s.value.length?(g(),v("div",xe,[Ne,d("div",Ue,[(g(!0),v(ae,null,oe(s.value,(i,r)=>(g(),se(_e,{file:i,index:r,"is-used":x.value.includes(i),key:p.value[r],url:p.value[r],onRemove:a=>W(i),onInsert:a=>Q(i)},null,8,["file","index","is-used","url","onRemove","onInsert"]))),128))])])):ie("",!0),f(me,{"form-data-array":M.value,"is-busy":y.value,"is-incomplete":S.value,text:G.value,webhook:k(O),onSuccess:V},null,8,["form-data-array","is-busy","is-incomplete","text","webhook"])],512),[[te,u.value]])],544)}}}),Ee=q(Ce,[["__scopeId","data-v-feb2ab7c"]]),Be=de('<h1 id="create-blog-post" tabindex="-1">Create Blog Post <a class="header-anchor" href="#create-blog-post" aria-label="Permalink to &quot;Create Blog Post&quot;">​</a></h1><h2 id="how-to-create-a-new-post" tabindex="-1">How To Create a New Post <a class="header-anchor" href="#how-to-create-a-new-post" aria-label="Permalink to &quot;How To Create a New Post&quot;">​</a></h2><h3 id="category" tabindex="-1">Category <a class="header-anchor" href="#category" aria-label="Permalink to &quot;Category&quot;">​</a></h3><p>Blog posts are divided into categories, or folders. You have to assign a category to your post first. The category or post itself should have some kind of reference to your name, so people know who made a blog post.</p><p>Blog posts are made from Markdown files. Below is an editor that allows you to write and preview Markdown. The editor will only appear when a category is given.</p><h3 id="content" tabindex="-1">Content <a class="header-anchor" href="#content" aria-label="Permalink to &quot;Content&quot;">​</a></h3><p>Every post should start with a level 1 heading:</p><div class="language-md vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">md</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;--shiki-light-font-weight:bold;--shiki-dark-font-weight:bold;"># Heading</span></span></code></pre></div><p>This heading will also be used for the filename.</p><h3 id="images" tabindex="-1">Images <a class="header-anchor" href="#images" aria-label="Permalink to &quot;Images&quot;">​</a></h3><p>Images can be uploaded directly from the editing window. The image button is in the middle of the toolbar. From there, click &quot;Upload Img&quot;.</p><p>Images larger than 2MB will be compressed automatically, this may take some time.</p><p>When they are processed, they will appear in a gallery below the editor.</p><p>If the image name is red, that means that the image is not used in your blog post, and therefore also won&#39;t be transferred when you submit it.</p><p>You can add it to your blog post by clicking the <code>➕</code> button below the image. The <code>✖</code> button removes the image from the gallery.</p><p>Images are represented in Markdown with the following syntax: <code>![alt text](path/to/image.jpg)</code>. It is recommended to edit the alt text to a short description of what can be seen in your image.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Images won&#39;t work in the preview window. However, if the image is in the gallery and has a white filename, you can be sure it will display correctly on the page.</p></div><h3 id="submitting-the-new-post" tabindex="-1">Submitting the New Post <a class="header-anchor" href="#submitting-the-new-post" aria-label="Permalink to &quot;Submitting the New Post&quot;">​</a></h3><p>When you are done with the post, click the submit button. Depending on how many images you added and how fast your internet is, this may take a while.</p><p>The post is not automatically published though, and needs to be uploaded by the website maintainers first. This is usually done within 24h.</p><h2 id="editing-an-existing-blog-post" tabindex="-1">Editing an Existing Blog Post <a class="header-anchor" href="#editing-an-existing-blog-post" aria-label="Permalink to &quot;Editing an Existing Blog Post&quot;">​</a></h2><p>Unfortunately, you cannot easily edit an existing post from here. However, all posts are stored on GitHub and can be edited there.</p><p>A direct link to the blog file is at the bottom of each blog post.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Blog posts should be related to Eisvana in some way.</p><p>Being a citizen of Eisvana also satisfies this requirement.</p><p>This means that if you&#39;re a citizen, you may also write about your projects in other parts of the universe.</p><p>If you aren&#39;t a citizen, the posts should be strictly related to Eisvana and its regions.</p></div><h2 id="editor" tabindex="-1">Editor <a class="header-anchor" href="#editor" aria-label="Permalink to &quot;Editor&quot;">​</a></h2>',25),He=JSON.parse('{"title":"Create Blog Post","description":"","frontmatter":{"aside":false,"next":false},"headers":[],"relativePath":"blog/create.md","filePath":"blog/create.md","lastUpdated":1711127293000}'),qe={name:"blog/create.md"},Re=I({...qe,setup(m){return(o,s)=>(g(),v("div",null,[Be,f(Ee)]))}});export{He as __pageData,Re as default};
