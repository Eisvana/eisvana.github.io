import{d as _,o as g,c as f,m as r,t as Z,n as A,J as b,w as C,_ as q,h,k as c,y as K,a5 as E,a6 as X,af as ee,p as k,F as te,G as ae,b as oe,e as se,a2 as ie,q as ne,s as le,a4 as re}from"./chunks/framework.CTjf6bD_.js";import{E as de,c as ue}from"./chunks/compressImage.B3hnqSoZ.js";import{S as ce,a as me,c as pe,e as B}from"./chunks/createFormData.zr5rVb3g.js";import{_ as F}from"./chunks/PicoStyle.vue_vue_type_script_setup_true_lang.DKhuZFY3.js";import{u as he}from"./chunks/useTheme.BLCKu_Mm.js";import"./chunks/commonjsHelpers.C4iS2aBk.js";const ge={class:"gallery-item"},ve=["href"],fe=["alt","src"],be=["title"],we={class:"button-grid"},ye=_({__name:"GalleryElement",props:{file:{},index:{},url:{},isUsed:{type:Boolean}},emits:["remove","insert"],setup(m){return(s,i)=>(g(),f("div",ge,[r("a",{href:s.url,rel:"noopener noreferrer",target:"_blank"},[r("img",{alt:s.file.name,src:s.url},null,8,fe)],8,ve),r("p",{class:A([{"is-unused":!s.isUsed},"file-name"]),title:s.isUsed?void 0:"Unused"},Z(s.file.name),11,be),b(F,null,{default:C(()=>[r("div",we,[r("button",{class:"primary",title:"Insert",type:"button",onClick:i[0]||(i[0]=u=>s.$emit("insert"))}," ➕ "),r("button",{class:"secondary",title:"Remove",type:"button",onClick:i[1]||(i[1]=u=>s.$emit("remove"))}," ✖ ")])]),_:1})]))}}),ke=q(ye,[["__scopeId","data-v-d8e391bd"]]),P=m=>(ne("data-v-7e41eb78"),m=m(),le(),m),_e=P(()=>r("label",{for:"category"},"Category or username under which the post will be listed:",-1)),Ie={key:0},xe=P(()=>r("p",null,"Uploaded images:",-1)),Ne={class:"gallery"},Ue=_({__name:"BlogBuilder",setup(m){const s=h(`# Hello World

This is content`),i=h([]),u=h(""),w=h(!1),S=c(()=>!s.value||!u.value),$=c(()=>i.value.map(t=>t.name)),I=c(()=>i.value.filter(t=>s.value.includes(t.name))),T=c(()=>z(I.value)),p=h([]),j=atob("aHR0cHM6Ly9kaXNjb3JkLmNvbS9hcGkvd2ViaG9va3MvMTIwNjIxNjYxODkzNDQwNzE5OS9NNTFQal9mWHhUQl9NQW4zMTdVbE82UGlsQU0tNTVUZUNzVDYwWlA2SWxKZHhNTHRjd2IzMnRwWVNSc2Z6dHctSHk4eQo="),x=h(null),{theme:H}=he();K(i,(t,e)=>{const o=t.filter(n=>!e.includes(n)),d=e.filter(n=>!t.includes(n)).map(n=>e.indexOf(n));d.forEach(n=>URL.revokeObjectURL(p.value[n]));const a=o.map(n=>URL.createObjectURL(n));p.value=p.value.filter((n,y)=>!d.includes(y)),p.value.push(...a)});function O(){const t=document.createElement("a"),e="blog.md",o=new File([s.value],e,{type:"text/plain"}),l=URL.createObjectURL(o);t.href=l,t.download=e,t.click(),URL.revokeObjectURL(l)}const R=c(()=>T.value.map(me)),D=c(()=>pe(s.value,u.value)),M=c(()=>[D.value,...R.value]);function z(t){return t.reduce((o,l,d)=>{const a=Math.floor(d/10);return(o[a]??(o[a]=[])).push(l),o},[])}const N=(t,e)=>new File([t],e,{type:t.type});async function L(t){const e={};$.value.forEach(a=>{e[a]??(e[a]=0),e[a]++});function o(a,n=0){const y=a.name.split("."),Y=y.at(-1),J=`${y.slice(0,-1).join("_")}_${n}.${Y}`,v=n?J:a.name,U=e[v]??(e[v]=0);return e[v]++,U?o(a,U):N(a,v)}const l=t.map(a=>N(a,B(a.name))).map(a=>o(a));w.value=!0;const d=[];for(const a of l){const n=await ue(a);d.push(n)}w.value=!1,i.value=[...i.value,...d]}const V=()=>{var t;s.value="",i.value=[],(t=x.value)==null||t.reset()};function W(t){i.value=i.value.filter(e=>t!==e)}const G=c(()=>w.value?"Compressing files...":void 0),Q=t=>s.value=`${s.value}
![image](/images/blogs/${B(u.value)}/${t.name})
`;return(t,e)=>(g(),f("form",{ref_key:"form",ref:x,onSubmit:e[2]||(e[2]=ie(()=>{},["prevent"]))},[b(F,null,{default:C(()=>[_e,E(r("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>u.value=o),id:"category",type:"text"},null,512),[[X,u.value]])]),_:1}),E(r("div",null,[b(k(de),{modelValue:s.value,"onUpdate:modelValue":e[1]||(e[1]=o=>s.value=o),theme:k(H),class:"editor","editor-id":"pageContent",language:"en-US","preview-theme":"github",onOnSave:O,onOnUploadImg:L},null,8,["modelValue","theme"]),i.value.length?(g(),f("div",Ie,[xe,r("div",Ne,[(g(!0),f(te,null,ae(i.value,(o,l)=>(g(),oe(ke,{file:o,index:l,"is-used":I.value.includes(o),key:p.value[l],url:p.value[l],onRemove:d=>W(o),onInsert:d=>Q(o)},null,8,["file","index","is-used","url","onRemove","onInsert"]))),128))])])):se("",!0),b(ce,{"form-data-array":M.value,"is-busy":w.value,"is-incomplete":S.value,text:G.value,webhook:k(j),onSuccess:V},null,8,["form-data-array","is-busy","is-incomplete","text","webhook"])],512),[[ee,u.value]])],544))}}),Ee=q(Ue,[["__scopeId","data-v-7e41eb78"]]),Be=re('<h1 id="create-blog-post" tabindex="-1">Create Blog Post <a class="header-anchor" href="#create-blog-post" aria-label="Permalink to &quot;Create Blog Post&quot;">​</a></h1><h2 id="how-to-create-a-new-post" tabindex="-1">How To Create a New Post <a class="header-anchor" href="#how-to-create-a-new-post" aria-label="Permalink to &quot;How To Create a New Post&quot;">​</a></h2><h3 id="category" tabindex="-1">Category <a class="header-anchor" href="#category" aria-label="Permalink to &quot;Category&quot;">​</a></h3><p>Blog posts are divided into categories, or folders. You have to assign a category to your post first. The category or post itself should have some kind of reference to your name, so people know who made a blog post.</p><p>Blog posts are made from Markdown files. Below is an editor that allows you to write and preview Markdown. The editor will only appear when a category is given.</p><h3 id="content" tabindex="-1">Content <a class="header-anchor" href="#content" aria-label="Permalink to &quot;Content&quot;">​</a></h3><p>Every post should start with a level 1 heading:</p><div class="language-md vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">md</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;--shiki-light-font-weight:bold;--shiki-dark-font-weight:bold;"># Heading</span></span></code></pre></div><p>This heading will also be used for the filename.</p><h3 id="images" tabindex="-1">Images <a class="header-anchor" href="#images" aria-label="Permalink to &quot;Images&quot;">​</a></h3><p>Images can be uploaded directly from the editing window. The image button is in the middle of the toolbar. From there, click &quot;Upload Img&quot;.</p><p>Images larger than 2MB will be compressed automatically, this may take some time.</p><p>When they are processed, they will appear in a gallery below the editor.</p><p>If the image name is red, that means that the image is not used in your blog post, and therefore also won&#39;t be transferred when you submit it.</p><p>You can add it to your blog post by clicking the <code>➕</code> button below the image. The <code>✖</code> button removes the image from the gallery.</p><p>Images are represented in Markdown with the following syntax: <code>![alt text](path/to/image.jpg)</code>. It is recommended to edit the alt text to a short description of what can be seen in your image.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Images won&#39;t work in the preview window. However, if the image is in the gallery and has a white filename, you can be sure it will display correctly on the page.</p></div><h3 id="submitting-the-new-post" tabindex="-1">Submitting the New Post <a class="header-anchor" href="#submitting-the-new-post" aria-label="Permalink to &quot;Submitting the New Post&quot;">​</a></h3><p>When you are done with the post, click the submit button. Depending on how many images you added and how fast your internet is, this may take a while.</p><p>The post is not automatically published though, and needs to be uploaded by the website maintainers first. This is usually done within 24h.</p><h2 id="editing-an-existing-blog-post" tabindex="-1">Editing an Existing Blog Post <a class="header-anchor" href="#editing-an-existing-blog-post" aria-label="Permalink to &quot;Editing an Existing Blog Post&quot;">​</a></h2><p>Unfortunately, you cannot easily edit an existing post from here. However, all posts are stored on GitHub and can be edited there.</p><p>A direct link to the blog file is at the bottom of each blog post.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Blog posts should be related to Eisvana in some way.</p><p>Being a citizen of Eisvana also satisfies this requirement.</p><p>This means that if you&#39;re a citizen, you may also write about your projects in other parts of the universe.</p><p>If you aren&#39;t a citizen, the posts should be strictly related to Eisvana and its regions.</p></div><h2 id="editor" tabindex="-1">Editor <a class="header-anchor" href="#editor" aria-label="Permalink to &quot;Editor&quot;">​</a></h2>',25),He=JSON.parse('{"title":"Create Blog Post","description":"","frontmatter":{"aside":false,"next":false},"headers":[],"relativePath":"blog/create.md","filePath":"blog/create.md","lastUpdated":1711142208000}'),Ce={name:"blog/create.md"},Oe=_({...Ce,setup(m){return(s,i)=>(g(),f("div",null,[Be,b(Ee)]))}});export{He as __pageData,Oe as default};
